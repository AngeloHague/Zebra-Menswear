<section id="shopify-section-[id]" class="shopify-section">
    <div class='promo_slider'>
        {% for block in section.blocks %}
            {% case block.type %}
                {% when 'slide' %}
                    <div class='slide'>
                        <div class="bg_blur">
                            <picture>
                                <source media="(min-width:451px)" srcset="{{ block.settings.collection | img_url: '715x' }}">
                                <img src="{{ block.settings.collection | img_url: '340x' }}" width='100%' height='100%'>
                            </picture>
                        </div>
                        <a href="{{ block.settings.collection.url }}">
                            <div class="content">
                                <div class="card">
                                    <div class='image'>
                                        <picture>
                                            <source media="(min-width:451px)" srcset="{{ block.settings.collection | img_url: '715x' }}">
                                            <img src="{{ block.settings.collection | img_url: '340x' }}" width='100%' height='100%'>
                                        </picture>
                                    </div>
                                    <div class='caption'>
                                        {% if block.settings.caption != blank %}
                                            <p>{{ block.settings.caption }}</p>
                                        {% else %}
                                            <p>Explore the {{ block.settings.collection.title }} collection</p>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
            {% endcase %}
        {% endfor %}
    </div>
</section>
    

{% schema %}
    {
        "name": "Promo Slider",
        "settings": [
        ],
        "max_blocks": 3,
        "blocks": [
            {
                "name": "Slide",
                "type": "slide",
                "settings": [
                    {
                        "type" : "text",
                        "id" : "caption",
                        "label" : "Custom Caption (Leave blank for default)"
                    },
                    {
                        "type" : "image_picker",
                        "id" : "image_small",
                        "label" : "Slide Image Picker (Small)"
                    },
                    {
                        "type" : "image_picker",
                        "id" : "image_large",
                        "label" : "Slide Image Picker (Large)"
                    },
                    {
                        "type" : "collection",
                        "id" : "collection",
                        "label" : "Collection Link"
                    }
                ]
            }
        ]
    }
{% endschema %}