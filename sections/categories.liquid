<div class='categories-section'>
  <ul>
    {% for block in section.blocks %}
      <li>
        <a href='{{block.settings.collection.url}}'>
          <div class='image'>
            <picture>
              <source srcset="{{ block.settings.collection | img_url: '80x' }}, {{ block.settings.collection | img_url: '160x' }} 2x">
              <img src="{{ block.settings.collection | img_url: '80x' }}" width='100%' height='100%'>
          </picture>
          </div>
          {% if block.settings.caption != blank %}
            <p>{{block.settings.caption}}</p>
          {% else %}
            <p>{{block.settings.collection.title}}</p>
          {% endif %}
        </a>
      </li>
    {% endfor %}
  </ul>
  <div class='view-all'>
    {% if section.settings.button-text != blank %}
      <a class="button black" type="button" href='./collections/Clothing';> {{section.settings.button-text}} </a>
    {% else %}
      <a class="button black" type="button" href='./collections/Clothing';> View All Categories </a>
    {% endif %}
  </div>
    
</div>

{% schema %}
{
    "name": "Categories",
    "settings": [
      {
        "label": "Button Text",
        "id": "button-text",
        "info": "Leave blank for default - 'View All Categories'",
        "type": "text"
      },
      {
        "label": "Button Link",
        "id": "button-collection",
        "info": "Input the name of the collection the button should link to",
        "type": "collection"
      }
    ],
    "blocks": [
        {
            "name": "Collection",
            "type": "slide",
            "settings": [
                {
                    "type" : "text",
                    "id" : "caption",
                    "label" : "Custom Caption (Leave blank for default)"
                },
                {
                    "type" : "collection",
                    "id" : "collection",
                    "label" : "Collection Link"
                }
            ]
        }
    ]
}
{% endschema %}

{% style %}
  .categories-section {
    width: calc(100% - 32px);
    margin: 0 16px;
    /* background-color: aqua; */
  }

  .categories-section .view-all {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .categories-section ul {
    width: 100%;
    list-style: none;
    overflow-x: scroll;
    height: auto;
    white-space: nowrap;
    margin-bottom: 4px;
  }

  .categories-section ul li {
    display: inline-block;
    vertical-align: top;
    width: 80px;
    margin-right: 12px;
  }

.categories-section ul li:last-child {
  margin-right: 0;
}

  .categories-section img {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: 40px;
  }

  .categories-section ul p {
    display: inline-block;
    width: 80px;
    text-align: center;
    word-wrap: break-word;
    white-space: pre-wrap;
    word-break: break-word;
    padding-bottom: 8px;
    font-family: 'Comfortaa', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    font-size: 1rem;
    color: black;
  }

  .categories-section ::-webkit-scrollbar {
    height: 4px;
  }
  .categories-section ::-webkit-scrollbar-track {
    background: #fff;
    border-radius: 8px;
  }
  .categories-section ::-webkit-scrollbar-thumb {
    background-color: #CBCBCB;
    border-radius: 8px;
  }
  .categories-section ::-webkit-scrollbar-thumb:hover {
    background: #B5B5B5;
    border-radius: 8px;
  }

{% endstyle %}

{% javascript %}
{% endjavascript %}