{% render 'dot-separator' %}

<div class='trending-brands'>
    <h2>Trending Brands</h2>
    <div class='brands'>
        {% assign cutoff = section.blocks.size | divided_by: 2 %}
        {% for block in section.blocks %}
            {% if block.settings.collection.metafields.brand.logo.value.url != null %}
                <a class='brand' href='{{ block.settings.collection.url }}'><img src="{{ block.settings.collection.metafields.brand.logo.value.url }}" width='100px' height='50px'></a>
            {% else %}
                <a class='brand' href='{{ block.settings.collection.url }}'>
                    <svg width="100" height="50" fill="red">
                        <text x="0" y="25">
                            Logo Missing
                        </text>
                    </svg>
                </a>
            {% endif %}
        {%- endfor -%}
    </div>
    <div class='view-all'>
        <input class="button" type="button" onclick="location.href='./pages/brands';" value="View All Brands" />
    </div>
</div>

{% schema %}
{
    "name": "Trending Brands",
    "settings": [],
    "max_blocks": 6,
    "blocks": [
        {
            "name": "Brand",
            "type": "slide",
            "settings": [
                {
                    "type" : "checkbox",
                    "id" : "show_slide",
                    "label" : "Show Slide",
                    "default": false
                },
                {
                    "type" : "collection",
                    "id" : "collection",
                    "label" : "Brand (Collection)"
                }
            ]
        }
    ]
}
{% endschema %}

{%- style -%}
.trending-brands {
  width: calc(100% - 32px);
  height: 200px;
  margin: 0 16px;
  /* background-color: aqua; */
}

.trending-brands .brands {
  display: grid;
  justify-content: space-evenly;
  grid-template-columns: auto auto auto;
}

.trending-brands h2 {
  color: #1E1E1E;
  font-family: 'Comfortaa', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  font-size: 2rem;
  font-weight: 400;
  text-transform: uppercase;
  text-align: center;
  padding-bottom: 16px;
}

.trending-brands img {
  object-fit: contain;
  margin-bottom: 8px;
}

.trending-brands .view-all {
  display: flex;
  justify-content: center;
  align-items: center;
}
{%- endstyle -%}